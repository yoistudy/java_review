Ch06. 객체지향 프로그래밍 1
===
## 객체지향언어
```
실제 세계는 사물(객체)로 이루어져 있으며, 발생하는 모든 사건들을 사물간의 상호작용
코드 간에 서로 관계를 맺음으로써 유기적으로 프로그램을 구성하는 방법
```

## 객체지향언어의 장점
```
1. 코드의 재사용성의 높다.
2. 코드의 관리가 용이함
3. 재사용성 / 유지보수 / 중복의 제거
4. 제어자와 메서드를 이용하여 데이터를 보호하고 올바른 값을 유지하도록 함.
```

## 클래스와 객체
### 클래스란?
```
정의 - 객체를 정의 해놓은 것
용도 - 객체를 생성하는데 사용
즉, 객체를 정의하고 생성하기 위한 설계 혹은 틀을 뜻함.
```

### 객체란?
```
정의 - 실제로 존재하는 사물/개념
용도 - 객체가 가지고 있는 기능/속성에 따라 다름
ex) 자동차, 의자, 프로그램 등
```

### 클래스와 객체의 관계
```
일반 - 빵(객체)를 만들기 위해 레시피(클래스)가 필요하듯이, 실제로 우리가 필요한것은 빵(객체)
      레시피(클래스)는 빵(객체)을 만들기 위해 사용하는 것.
프로그래밍 - 클래스에 정의된 내용대로 객체를 메모리에 생성한 것
```

### 객체와 인스턴스
```
클래스를 통하여 객체를 만드는 것을 '인스턴스화(instantiate)'라고 함.
예) 빵 레시피(클래스)를 통하여 만들어진 빵(객체)를 인스턴스라고 함.
   세상에 존재하는 모든 빵은 객체라고 부를 수 있음.
   즉, 객체는 포괄적인 개념 / 인스턴스는 특정 클래스를 통하여 생성된 구체적인 의미
```

### 객체의 구성요소 - 속성/기능
##### 객체는 다수의 기능과 속성 구성됨 / 즉, 객체는 속성과 기능의 집합
```
속성(property) - 맴버변수, 특성, 필드, 상태
기능(function) - 매서드, 행위, 함수
```
```
예) 컴퓨터
속성 - 크기, 부피, 해상도, 볼륨
기능 - 해상도 조절, 볼륨 조절 등
```

```java
class Computer{
    String color;
    int volume;
    int viewSize;
    ...

    void setColor(){};
    int getColor(){};
    ...
}
```

### 인스턴스(객체) 생성/사용
```
클래스명 변수명;           // 변수는 참조변수!(4byte의 크기를 가짐)
변수명 = new 클래스명();   // 객체를 생성하고, 참조변수에 [주소값]을 저장

ex)
Computer com;
com = new Computer();  // com은 Computer 인스턴스를 '참조/가리키고 있다' 라고 표현 함.
```

```
p.155
인스턴스와 참조변수의 관계는 일종의 Tv와 Tv를 컨트롤하는 리모컨과의 관계와 같다.
리모컨(참조변수)를 통하여 Tv(인스턴스)를 다룰 수 있기 때문이다.
다른점!! 인스턴스는 오직 참조변수를 통하여 다룰 수 있다.
```

```
p.158 중단(중요!!!)
참조하고 있는 참조변수가 하나도 없을 경우, 인스턴스가 더 이상 사용되지 않기 때문에
가비지 컬렉터로 옮겨져서 자동적으로 메모리에서 제거된다.
```

### 프로그래밍적인 클래스의 정의
#### 데이터+함수
```
변수 -> 배열 -> 구조체 -> 클래스

ex) C에서의 문자열 처리 / Java에서의 문자열 처리
C에서는 문자를 배열로 처리하지만,
자바에서는 클래스로 정의하고 동시에 이를 다룰 수 있는 매서드까지 묶음.
```

#### 사용자정의 타입(user-defined type)
```java
iPhone iphone;
Gallaxy gallaxy;
Optimus optmius;
...

// iPhone, Gallaxy, Optimus 는 모두 사용자가 정의한 클래스
   즉, 사용자가 정의한 클래스가 여기에서 일종의 타입과 같은 역할을 수행함.
```

## 변수와 매서드
### 1. 변수
#### 선언위치에 따라 달라지는 변수의 종류
- 클래스 변수  : 클래스가 메모리에 올라갈 때
- 인스턴스 변수 : 인스턴스가 생성될 때
- 지역변수     : 클래스 영역 이외의 영역(중괄호, 매서드, 생성자 등)

```java
class Variable{
    String v1;         // 인스턴스 변수
    static String v2;  // 클래스 변수

    void method(){
        String v3;     // 지역변수
    }
}
```
#### 차이점
- 클래스 변수 : 모든 인스턴스가 공유하는 변수
- 인스턴스 변수 : 인스턴스 마다(객체,인스턴스를 생성할때 마다) 각기 독립적인 공간을 가짐
- 지역변수 : 일반적으로 매서드내에서 사용, 종료와 동시에 소멸됨.
  ex) for문, if문, 매서드 등

### 2. 매서드
#### 특정한 명령을 수행하기 위한 집합 단위
```
"Input이 있으면 Output도 존재한다. 아웃풋은 존재하지 않을 수 있다."
목적 - 코드를 줄이고, 재사용성을 높이기 위함.
즉, 반복적으로 사용되는 코드를 하나의 매서드로 만들어 놓는 것이 좋음.
```

#### How To?
```
[접근제어자] [리턴타입] [매서드명] (인자1, 인자2, ...){
    변수타입 변수명;
    // 호출 시 실행될 코드들
    return 변수/리터럴/참조변수 [리턴타입과 동일해야 함]
}
```

#### 호출
```
참조변수.매서드명(인자...)
클래스명.매서드명(인자...)
```

#### 반환
```
반환은 있을 수도 있고, 없을 수도 있다.
반환값이 있을 경우, 반드시 반환타입과 일치시키거나 타입캐스팅이 가능한 변수/리터럴이 있어야 한다.
반환은 return 키워드를 이용하여 수행
```


## JVM의 메모리 구조
#### 자바를 이해하고 사용하는데에 있어 가장 중요한 영역
- 연관된 녀석들 : 가비지 컬렉터, 클래스 로더, 등등
```
Method Area / Call Stack / Heap 3가지 영역으로 나뉨
```

#### Method Area
- 클래스와 관련된 정보가 저장 됨, 클래스의 클래스 변수등이 이 영역에 저장됨.
#### Heap
- 인스턴스(객체)가 생성되는 공간. 인스턴스 변수등이 해당한다.
- 가비지 컬렉터가 사용하지 않는 인스턴스를 구분하여 Heap 영역 내에서도 영역이 구분 됨.
#### Call Stack
- 중간연산에서 필요한 변수 등이 저장되는 공간. 매서드 혹은 지역변수들이 작업을 마치면 할당된 메모리는 반환됨.
- 매서드 호출 시, 메모리를 할당 받고 실행이 종료되면 할당받은 메모리를 반환.
- LIFO(Last In, First Out) : 마지막에 들어온 녀석이 가장 빨리 나간다

## 기본형 / 참조형 매개변수
- 매서드를 호출하면, 기본적으로 '값'을 복사하여 매서드로 넘겨줌
- 참조형의 경우, 참조하고 있는 인스턴스의 [주소 값]을 복사하기 떄문에 해당 인스턴스를 조작하거나 변경할 수 있음.


## 재귀호출(recursive call)
- 매서드 내부에서 자신의 매서드를 다시 호출하는 것을 재귀호출(recursive)라고 함.
- 반복문 vs 재귀호출(recursive call)
- 재귀호출의 경우, 반복적으로 매서드를 호출 하는 비용이 발생함(호출 스택 사용)
- 조건 지정들을 잘못하는 경우, StackOverFlow가 발생할 수 있음.